---
# System Hardening role - Security and firewall configuration

- name: Install UFW firewall
  become: true
  pacman:
    name: ufw
    state: present

- name: Configure UFW default policy - deny incoming
  become: true
  community.general.ufw:
    direction: incoming
    policy: deny

- name: Configure UFW default policy - allow outgoing
  become: true
  community.general.ufw:
    direction: outgoing
    policy: allow

- name: Enable UFW firewall
  become: true
  community.general.ufw:
    state: enabled

- name: Enable UFW service to start on boot
  become: true
  systemd:
    name: ufw
    enabled: yes
    state: started